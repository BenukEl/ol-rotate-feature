{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 3dca7febbc2cf86d754c","webpack:///./src/index.js","webpack:///./src/RotateFeatureEvent.js","webpack:///./src/RotateFeatureInteraction.js","webpack:///./src/util.js","webpack:///external {\"root\":\"ol\",\"amd\":\"openlayers\",\"commonjs\":\"openlayers\",\"commonjs2\":\"openlayers\"}"],"names":[],"mappings":"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","file":"bundle.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"openlayers\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"openlayers\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"RotateFeature\"] = factory(require(\"openlayers\"));\n\telse\n\t\troot[\"ol\"] = root[\"ol\"] || {}, root[\"ol\"][\"interaction\"] = root[\"ol\"][\"interaction\"] || {}, root[\"ol\"][\"interaction\"][\"RotateFeature\"] = factory(root[\"ol\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_4__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/dist/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 3dca7febbc2cf86d754c","/**\n * OpenLayers 3 rotate interaction.\n * Allows vector feature rotation.\n *\n * @author Vladimir Vershinin <ghettovoice@gmail.com>\n * @licence MIT https://opensource.org/licenses/MIT\n *          Based on OpenLayers 3. Copyright 2005-2015 OpenLayers Contributors. All rights reserved. http://openlayers.org\n * @copyright (c) 2016, Vladimir Vershinin\n */\nimport RotateFeatureInteraction from \"./RotateFeatureInteraction\";\n\nexport default RotateFeatureInteraction;\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","// @flow\n/**\n * @enum {string}\n */\nexport const RotateFeatureEventType = {\n    /**\n     * Triggered upon feature rotate start.\n     * @event RotateFeatureEvent#rotatestart\n     */\n    START: 'rotatestart',\n    /**\n     * Triggered upon feature rotation.\n     * @event RotateFeatureEvent#rotating\n     */\n    ROTATING: 'rotating',\n    /**\n     * Triggered upon feature rotation end.\n     * @event RotateFeatureEvent#rotateend\n     */\n    END: 'rotateend'\n};\n\n/**\n * Events emitted by RotateFeatureInteraction instances are instances of this type.\n *\n * @class\n * @author Vladimir Vershinin\n */\nexport class RotateFeatureEvent {\n    /**\n     * @param {RotateFeatureEventType} type Type.\n     * @param {ol.Collection<ol.Feature>} features Rotated features.\n     * @param {number} angle Angle in radians.\n     * @param {ol.Coordinate} anchor Anchor position.\n     */\n    constructor(type, features, angle, anchor) {\n        /**\n         * @type {boolean}\n         */\n        this.propagationStopped = undefined;\n\n        /**\n         * The event type.\n         * @type {RotateFeatureEventType}\n         */\n        this.type = type;\n\n        /**\n         * The features being rotated.\n         * @type {ol.Collection<ol.Feature>}\n         */\n        this.features = features;\n        /**\n         * Current angle in radians.\n         * @type {number}\n         */\n        this.angle = angle;\n        /**\n         * Current rotation anchor.\n         * @type {number[] | ol.Coordinate}\n         */\n        this.anchor = anchor;\n    }\n\n    /**\n     * Stop event propagation.\n     * @function\n     */\n    preventDefault() {\n        this.propagationStopped = true;\n    }\n\n    /**\n     * Stop event propagation.\n     * @function\n     */\n    stopPropagation() {\n        this.propagationStopped = true;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/RotateFeatureEvent.js","// @flow\nimport ol from \"openlayers\";\nimport { assert, assertInstanceOf, coalesce } from \"./util\";\nimport { RotateFeatureEvent, RotateFeatureEventType } from \"./RotateFeatureEvent\";\n\n/**\n * @typedef {Object} InteractionOptions\n * @property {ol.Collection<ol.Feature>} features The features the interaction works on. Required.\n * @property {ol.style.Style | Array<ol.style.Style> | ol.style.StyleFunction | undefined} style  Style of the overlay.\n * @property {number | undefined} angle Initial angle in radians (positive is counter-clockwise),\n *                                      applied for features already added to collection. Default is `0`.\n * @property {number[] | ol.Coordinate | undefined} anchor Initial anchor coordinate. Default is center of features extent.\n */\nvar InteractionOptions;\n\nconst ANCHOR_KEY = 'anchor';\nconst ARROW_KEY = 'arrow';\n// const GHOST_KEY = 'ghost';\n\nconst ANGLE_PROP = 'angle';\nconst ANCHOR_PROP = 'anchor';\n\n/**\n * todo добавить опцию condition - для возможности переопределения клавиш\n *\n * Rotate interaction class.\n * Adds controls to rotate vector features.\n * Writes out total angle in radians (positive is counter-clockwise) to property for each feature.\n *\n * @author Vladimir Vershinin\n */\nexport default class RotateFeatureInteraction extends ol.interaction.Pointer {\n    /**\n     * @param {InteractionOptions} options\n     */\n    constructor(options : InteractionOptions = {}) {\n        super({\n            handleEvent: RotateFeatureInteraction.handleEvent,\n            handleDownEvent: handleDownEvent,\n            handleUpEvent: handleUpEvent,\n            handleDragEvent: handleDragEvent,\n            handleMoveEvent: handleMoveEvent\n        });\n\n        if (options.angle != null) {\n            this.setAngle(options.angle);\n        }\n\n        if (options.anchor != null) {\n            this.setAnchor(options.anchor);\n        }\n\n        /**\n         * @type {ol.Collection.<ol.Feature>}\n         * @private\n         */\n        this.features_ = options.features;\n\n        assertInstanceOf(this.features_, ol.Collection);\n\n        /**\n         * @type {ol.layer.Vector}\n         * @private\n         */\n        this.overlay_ = new ol.layer.Vector({\n            style: options.style || getDefaultStyle(),\n            source: new ol.source.Vector({\n                features: new ol.Collection()\n            })\n        });\n        /**\n         * @type {string}\n         * @private\n         */\n        this.previousCursor_ = undefined;\n//        /**\n//         * Rotated feature.\n//         *\n//         * @type {ol.Feature}\n//         * @private\n//         */\n//        this.ghostFeature_ = undefined;\n        /**\n         * @type {ol.Feature}\n         * @private\n         */\n        this.anchorFeature_ = undefined;\n        /**\n         * @type {ol.Feature}\n         * @private\n         */\n        this.arrowFeature_ = undefined;\n        /**\n         * @type {ol.Coordinate}\n         * @private\n         */\n        this.lastCoordinate_ = undefined;\n        /**\n         * @type {boolean}\n         * @private\n         */\n        this.anchorMoving_ = false;\n\n        this.features_.on('add', this.onFeatureAdd_, this);\n        this.features_.on('remove', this.onFeatureRemove_, this);\n\n        this.on('change:active', this.onChangeActive_, this);\n        this.on('change:' + ANGLE_PROP, this.onAngleChange_, this);\n        this.on('change:' + ANCHOR_PROP, this.onAnchorChange_, this);\n    }\n\n    /**\n     * @param {ol.MapBrowserEvent} evt Map browser event.\n     * @return {boolean} `false` to stop event propagation.\n     * @this {RotateFeatureInteraction}\n     * @public\n     */\n    static handleEvent(evt : ol.MapBrowserEvent) : boolean {\n        // disable selection of inner features\n        const foundFeature = evt.map.forEachFeatureAtPixel(evt.pixel, feature => feature);\n        if (\n            [ 'click', 'singleclick' ].includes(evt.type) &&\n            foundFeature && [this.anchorFeature_, this.arrowFeature_].includes(foundFeature)\n        ) {\n            return false;\n        }\n\n        return ol.interaction.Pointer.handleEvent.call(this, evt);\n    }\n\n    //noinspection JSUnusedGlobalSymbols\n    /**\n     * @param {ol.Map} map\n     */\n    setMap(map) {\n        this.overlay_.setMap(map);\n        super.setMap(map);\n\n        if (map) {\n            this.updateInteractionFeatures_();\n        } else {\n            this.reset_(true);\n        }\n    }\n\n    /**\n     * @private\n     */\n    onChangeActive_() {\n        if (this.getActive()) {\n            this.updateInteractionFeatures_();\n        } else {\n            this.reset_(true);\n        }\n    }\n\n    /**\n     * Set current angle of interaction features.\n     *\n     * @param {number} angle\n     */\n    setAngle(angle : number) {\n        assert(!isNaN(parseFloat(angle)), 'Numeric value passed');\n\n        this.set(ANGLE_PROP, parseFloat(angle));\n    }\n\n    /**\n     * Returns current angle of interaction features.\n     *\n     * @return {number}\n     */\n    getAngle() : number {\n        return coalesce(this.get(ANGLE_PROP), 0);\n    }\n\n    /**\n     * Set current anchor position.\n     *\n     * @param {number[] | ol.Coordinate | undefined} anchor\n     */\n    setAnchor(anchor? : ol.Coordinate) {\n        assert(anchor == null || Array.isArray(anchor) && anchor.length === 2, 'Array of two elements passed');\n        this.set(ANCHOR_PROP, anchor != null ? anchor.map(parseFloat) : undefined);\n    }\n\n    /**\n     * Returns current anchor position.\n     *\n     * @return {number[] | ol.Coordinate | undefined}\n     */\n    getAnchor() : ol.Coordinate {\n        return coalesce(this.get(ANCHOR_PROP), getFeaturesCentroid(this.features_));\n    }\n\n    /**\n     * Creates or updates all interaction helper features.\n     * @private\n     */\n    updateInteractionFeatures_() {\n        if (!this.features_.getLength()) {\n            this.reset_();\n\n            return;\n        }\n\n        this.createOrUpdateAnchorFeature_();\n        this.createOrUpdateArrowFeature_();\n    }\n\n    /**\n     * @param {boolean} [resetAngleAndAnchor]\n     * @private\n     */\n    reset_(resetAngleAndAnchor = false) {\n        if (resetAngleAndAnchor) {\n            this.resetAngleAndAnchor_();\n        }\n\n        [this.anchorFeature_, this.arrowFeature_].forEach(feature => {\n            if (feature) {\n                this.overlay_.getSource().removeFeature(feature);\n            }\n        });\n\n        this.anchorFeature_ = this.arrowFeature_ =\n            this.lastCoordinate_ = undefined;\n        this.anchorMoving_ = false;\n    }\n\n    /**\n     * @private\n     */\n    resetAngleAndAnchor_() {\n        this.resetAngle_();\n        this.resetAnchor_();\n    }\n\n    /**\n     * @private\n     */\n    resetAngle_() {\n        this.set(ANGLE_PROP, 0, true);\n        this.arrowFeature_ && this.arrowFeature_.set(ANGLE_PROP, this.getAngle());\n        this.anchorFeature_ && this.anchorFeature_.set(ANGLE_PROP, this.getAngle());\n    }\n\n    /**\n     * @private\n     */\n    resetAnchor_() {\n        this.set(ANCHOR_PROP, getFeaturesCentroid(this.features_), true);\n\n        if (this.getAnchor()) {\n            this.arrowFeature_ && this.arrowFeature_.getGeometry().setCoordinates(this.getAnchor());\n            this.anchorFeature_ && this.anchorFeature_.getGeometry().setCoordinates(this.getAnchor());\n        }\n    }\n\n    /**\n     * @private\n     */\n    createOrUpdateAnchorFeature_() {\n        const angle = this.getAngle();\n        const anchor = this.getAnchor();\n\n        if (this.anchorFeature_) {\n            this.anchorFeature_.getGeometry().setCoordinates(anchor);\n        } else {\n            this.anchorFeature_ = new ol.Feature({\n                geometry: new ol.geom.Point(anchor),\n                [ANCHOR_KEY]: true,\n                [ANGLE_PROP]: angle\n            });\n            this.overlay_.getSource().addFeature(this.anchorFeature_);\n        }\n    }\n\n//    /**\n//     * @private\n//     */\n//    createOrUpdateGhostFeature_() {\n//        if (this.ghostFeature_) {\n//            this.ghostFeature_.getGeometry().setGeometries(geometries);\n//        } else {\n//            this.ghostFeature_ = new ol.Feature({\n//                geometry: new ol.geom.GeometryCollection(geometries),\n//                [GHOST_KEY]: true\n//            });\n//            this.overlay_.addFeature(this.ghostFeature_);\n//        }\n//    }\n\n    /**\n     * @private\n     */\n    createOrUpdateArrowFeature_() {\n        const angle = this.getAngle();\n        const anchor = this.getAnchor();\n\n        if (this.arrowFeature_) {\n            this.arrowFeature_.getGeometry().setCoordinates(anchor);\n        } else {\n            this.arrowFeature_ = new ol.Feature({\n                geometry: new ol.geom.Point(anchor),\n                [ARROW_KEY]: true,\n                [ANGLE_PROP]: angle\n            });\n            this.overlay_.getSource().addFeature(this.arrowFeature_);\n        }\n    }\n\n    /**\n     * @param {ol.Feature} element\n     * @private\n     */\n    onFeatureAdd_({ element }) {\n        if (!this.getActive()) {\n            return;\n        }\n\n        assertInstanceOf(element, ol.Feature);\n\n        this.resetAngleAndAnchor_();\n        this.updateInteractionFeatures_();\n    }\n\n    /**\n     * @param {ol.Feature} element\n     * @private\n     */\n    onFeatureRemove_({ element }) {\n        if (!this.getActive()) {\n            return;\n        }\n\n        assertInstanceOf(element, ol.Feature);\n\n        this.resetAngleAndAnchor_();\n        this.updateInteractionFeatures_();\n    }\n\n    /**\n     * @private\n     */\n    onAngleChange_({ oldValue }) {\n        this.features_.forEach(feature => feature.getGeometry().rotate(this.getAngle() - oldValue, this.anchorFeature_.getGeometry().getCoordinates()));\n        this.arrowFeature_ && this.arrowFeature_.set(ANGLE_PROP, this.getAngle());\n        this.anchorFeature_ && this.anchorFeature_.set(ANGLE_PROP, this.getAngle());\n    }\n\n    /**\n     * @private\n     */\n    onAnchorChange_() {\n        const anchor = this.getAnchor();\n\n        if (anchor) {\n            this.anchorFeature_ && this.anchorFeature_.getGeometry().setCoordinates(anchor);\n            this.arrowFeature_ && this.arrowFeature_.getGeometry().setCoordinates(anchor);\n        }\n    }\n\n    /**\n     * @param {ol.Collection<ol.Feature>} features\n     * @private\n     */\n    dispatchRotateStartEvent_(features) {\n        this.dispatchEvent(\n            new RotateFeatureEvent(\n                RotateFeatureEventType.START,\n                features,\n                this.getAngle(),\n                this.getAnchor()\n            )\n        );\n    }\n\n    /**\n     * @param {ol.Collection<ol.Feature>} features\n     * @private\n     */\n    dispatchRotatingEvent_(features) {\n        this.dispatchEvent(\n            new RotateFeatureEvent(\n                RotateFeatureEventType.ROTATING,\n                features,\n                this.getAngle(),\n                this.getAnchor()\n            )\n        );\n    }\n\n    /**\n     * @param {ol.Collection<ol.Feature>} features\n     * @private\n     */\n    dispatchRotateEndEvent_(features) {\n        this.dispatchEvent(\n            new RotateFeatureEvent(\n                RotateFeatureEventType.END,\n                features,\n                this.getAngle(),\n                this.getAnchor()\n            )\n        );\n    }\n}\n\n/**\n * @param {ol.MapBrowserEvent} evt Event.\n * @return {boolean}\n * @this {RotateFeatureInteraction}\n * @private\n */\nfunction handleDownEvent(evt : ol.MapBrowserEvent) : boolean\n{\n    const foundFeature = evt.map.forEachFeatureAtPixel(evt.pixel, feature => feature);\n\n    // handle click & drag on features for rotation\n    if (\n        foundFeature && !this.lastCoordinate_ &&\n        (this.features_.getArray().includes(foundFeature) || foundFeature === this.arrowFeature_)\n    ) {\n        this.lastCoordinate_ = evt.coordinate;\n\n        handleMoveEvent.call(this, evt);\n        this.dispatchRotateStartEvent_(this.features_);\n\n        return true;\n    }\n    // handle click & drag on rotation anchor feature\n    else if (foundFeature && foundFeature === this.anchorFeature_) {\n        this.anchorMoving_ = true;\n        handleMoveEvent.call(this, evt);\n\n        return true;\n    }\n\n    return false;\n}\n\n/**\n * @param {ol.MapBrowserEvent} evt Event.\n * @return {boolean}\n * @this {RotateFeatureInteraction}\n * @private\n */\nfunction handleUpEvent(evt : ol.MapBrowserEvent) : boolean\n{\n    // stop drag sequence of features\n    if (this.lastCoordinate_) {\n        this.lastCoordinate_ = undefined;\n\n        handleMoveEvent.call(this, evt);\n        this.dispatchRotateEndEvent_(this.features_);\n\n        return true;\n    }\n    // stop drag sequence of the anchors\n    else if (this.anchorMoving_) {\n        this.anchorMoving_ = false;\n        handleMoveEvent.call(this, evt);\n\n        return true;\n    }\n\n    return false;\n}\n\n/**\n * @param {ol.MapBrowserEvent} evt Event.\n * @return {boolean}\n * @this {RotateFeatureInteraction}\n * @private\n */\nfunction handleDragEvent(evt : ol.MapBrowserEvent) : boolean\n{\n    const newCoordinate = evt.coordinate;\n    const anchorCoordinate = this.anchorFeature_.getGeometry().getCoordinates();\n\n    // handle drag of features by angle\n    if (this.lastCoordinate_) {\n        // calculate vectors of last and current pointer positions\n        const lastVector = [this.lastCoordinate_[0] - anchorCoordinate[0], this.lastCoordinate_[1] - anchorCoordinate[1]];\n        const newVector = [newCoordinate[0] - anchorCoordinate[0], newCoordinate[1] - anchorCoordinate[1]];\n\n        // calculate angle between last and current vectors (positive angle counter-clockwise)\n        let angle = Math.atan2(lastVector[0] * newVector[1] - newVector[0] * lastVector[1], lastVector[0] * newVector[0] + lastVector[1] * newVector[1]);\n\n        this.setAngle(this.getAngle() + angle);\n        this.dispatchRotatingEvent_(this.features_);\n\n        this.lastCoordinate_ = evt.coordinate;\n    }\n    // handle drag of the anchor\n    else if (this.anchorMoving_) {\n        this.setAnchor(newCoordinate);\n    }\n}\n\n/**\n * @param {ol.MapBrowserEvent} evt Event.\n * @return {boolean}\n * @this {RotateFeatureInteraction}\n * @private\n */\nfunction handleMoveEvent(evt : ol.MapBrowserEvent) : boolean\n{\n    const elem = evt.map.getTargetElement();\n    const foundFeature = evt.map.forEachFeatureAtPixel(evt.pixel, feature => feature);\n\n    const setCursor = (cursor, vendor = false) => {\n        if (vendor) {\n            elem.style.cursor = '-webkit-' + cursor;\n            elem.style.cursor = '-moz-' + cursor;\n        }\n\n        elem.style.cursor = cursor;\n    };\n\n    if (this.lastCoordinate_) {\n        this.previousCursor_ = elem.style.cursor;\n        setCursor('grabbing', true);\n    } else if (foundFeature && (this.features_.getArray().includes(foundFeature) || foundFeature === this.arrowFeature_)) {\n        this.previousCursor_ = elem.style.cursor;\n        setCursor('grab', true);\n    } else if (foundFeature && foundFeature === this.anchorFeature_ || this.anchorMoving_) {\n        this.previousCursor_ = elem.style.cursor;\n        setCursor('crosshair');\n    } else {\n        setCursor(this.previousCursor_ || '');\n        this.previousCursor_ = undefined;\n    }\n}\n\n/**\n * @returns {ol.style.StyleFunction}\n * @private\n */\nfunction getDefaultStyle() : ol.style.StyleFunction\n{\n    const white = [255, 255, 255, 0.8];\n    const blue = [0, 153, 255, 0.8];\n    const transparent = [255, 255, 255, 0.01];\n    const width = 2;\n\n    const styles = {\n        [ANCHOR_KEY]: [\n            new ol.style.Style({\n                image: new ol.style.RegularShape({\n                    fill: new ol.style.Fill({\n                        color: [0, 153, 255, 0.8]\n                    }),\n                    stroke: new ol.style.Stroke({\n                        color: blue,\n                        width: 1\n                    }),\n                    radius: 4,\n                    points: 6\n                }),\n                zIndex: Infinity\n            })\n        ],\n        [ARROW_KEY]: [\n            new ol.style.Style({\n                fill: new ol.style.Fill({\n                    color: transparent\n                }),\n                stroke: new ol.style.Stroke({\n                    color: white,\n                    width: width + 2\n                }),\n                text: new ol.style.Text({\n                    font: '12px sans-serif',\n                    offsetX: 20,\n                    offsetY: -20,\n                    fill: new ol.style.Fill({\n                        color: 'blue'\n                    }),\n                    stroke: new ol.style.Stroke({\n                        color: white,\n                        width: width + 1\n                    })\n                }),\n                zIndex: Infinity\n            }),\n            new ol.style.Style({\n                fill: new ol.style.Fill({\n                    color: transparent\n                }),\n                stroke: new ol.style.Stroke({\n                    color: blue,\n                    width\n                }),\n                zIndex: Infinity\n            })\n        ]\n    };\n\n    return function (feature, resolution) {\n        var style;\n        const angle = feature.get(ANGLE_PROP) || 0;\n\n        switch (true) {\n            case feature.get(ANCHOR_KEY):\n                style = styles[ANCHOR_KEY];\n                style[0].getImage().setRotation(-angle);\n\n                return style;\n            case feature.get(ARROW_KEY):\n                style = styles[ARROW_KEY];\n\n                const coordinates = feature.getGeometry().getCoordinates();\n                // generate arrow polygon\n                const geom = new ol.geom.Polygon([\n                    [\n                        [coordinates[0], coordinates[1] - 6 * resolution],\n                        [coordinates[0] + 8 * resolution, coordinates[1] - 12 * resolution],\n                        [coordinates[0], coordinates[1] + 30 * resolution],\n                        [coordinates[0] - 8 * resolution, coordinates[1] - 12 * resolution],\n                        [coordinates[0], coordinates[1] - 6 * resolution],\n                    ]\n                ]);\n\n                // and rotate it according to current angle\n                geom.rotate(angle, coordinates);\n                style[0].setGeometry(geom);\n                style[1].setGeometry(geom);\n                style[0].getText().setText(Math.round(-angle * 180 / Math.PI) + '°');\n\n                return style;\n        }\n    };\n}\n\n/**\n * @param {ol.Collection<ol.Feature> | Array<ol.Feature>} features\n * @returns {ol.Extent | undefined}\n * @private\n */\nfunction getFeaturesExtent(features : ol.Collection<ol.Feature> | Array<ol.Feature>) : ol.Extent\n{\n    if (!features.getLength()) {\n        return undefined;\n    }\n\n    return new ol.geom.GeometryCollection(\n        ( Array.isArray(features) ? features : features.getArray() ).map(feature => feature.getGeometry())\n    ).getExtent();\n}\n\n/**\n * @param {ol.Collection<ol.Feature> | Array<ol.Feature>} features\n * @return {ol.Coordinate | undefined}\n */\nfunction getFeaturesCentroid(features : ol.Collection<ol.Feature> | Array<ol.Feature>) : ol.Coordinate\n{\n    if (!features.getLength()) {\n        return undefined;\n    }\n\n    return ol.extent.getCenter(getFeaturesExtent(features));\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/RotateFeatureInteraction.js","// @flow\n/**\n * @param {boolean} condition\n * @param {string} message\n * @throws Error\n */\nexport function assert(condition:boolean, message = '') {\n    message = ['Assertion failed', message].join(': ');\n\n    if (!condition) {\n        throw new Error(message);\n    }\n}\n\n/**\n * Checks if the value is an instance of the user-defined type.\n *\n * @param {*} value\n * @param {*} type\n * @throws Error\n */\nexport function assertInstanceOf(value, type) {\n    assert(value instanceof type, `Expected instanceof ${getValueType(type)} but got ${getValueType(value)}.`);\n}\n\n/**\n * Null function. Do nothing.\n */\nexport function noop() {}\n\n/**\n * @param {*} arg\n * @returns {*}\n */\nexport function identity(arg) {\n    return arg;\n}\n\n/**\n * Returns the type of a value. If a constructor is passed, and a suitable\n * string cannot be found, 'unknown type name' will be returned.\n *\n * @param {*} value\n * @returns string\n */\nexport function getValueType(value) : string {\n    if (value instanceof Function) {\n        return value.name || 'unknown type name';\n    } else if (value instanceof Object) {\n        return value.constructor.name || Object.prototype.toString.call(value);\n    } else {\n        return value === null ? 'null' : typeof value;\n    }\n}\n\n/**\n * @param {...*} values\n * @return {*}\n */\nexport function coalesce(...values) {\n    return values.find(value => value != null);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/util.js","module.exports = __WEBPACK_EXTERNAL_MODULE_4__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"root\":\"ol\",\"amd\":\"openlayers\",\"commonjs\":\"openlayers\",\"commonjs2\":\"openlayers\"}\n// module id = 4\n// module chunks = 0"],"sourceRoot":""}